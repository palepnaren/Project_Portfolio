"use strict";function liquidFillGaugeDefaultSettings(){return{minValue:0,maxValue:100,circleThickness:.05,circleFillGap:.05,circleColor:"#178BCA",waveHeight:.05,waveCount:1,waveRiseTime:1e3,waveAnimateTime:18e3,waveRise:!0,waveHeightScaling:!0,waveAnimate:!0,waveColor:"#178BCA",waveOffset:0,textVertPosition:.5,textSize:1,valueCountUp:!0,displayPercent:!0,textColor:"#045681",waveTextColor:"#A4DBf8"}}function loadLiquidFillGauge(e,t,a){function n(){j.attr("transform","translate("+O(j.attr("T"))+",0)"),j.transition().duration(a.waveAnimateTime*(1-j.attr("T"))).ease("linear").attr("transform","translate("+O(1)+",0)").attr("T",1).each("end",function(){j.attr("T",0),n(a.waveAnimateTime)})}null==a&&(a=liquidFillGaugeDefaultSettings());var i,r=d3.select("#"+e),o=Math.min(parseInt(r.style("width")),parseInt(r.style("height")))/2,l=parseInt(r.style("width"))/2-o,s=parseInt(r.style("height"))/2-o,c=Math.max(a.minValue,Math.min(a.maxValue,t))/a.maxValue;i=a.waveHeightScaling?d3.scale.linear().range([0,a.waveHeight,0]).domain([0,50,100]):d3.scale.linear().range([a.waveHeight,a.waveHeight]).domain([0,100]);var f=a.textSize*o/2,u=parseFloat(t).toFixed(2),d=a.valueCountUp?a.minValue:u,v=a.displayPercent?"%":"",p=a.circleThickness*o,m=p+a.circleFillGap*o,g=o-m,h=g*i(100*c),w=2*g/a.waveCount,y=1+a.waveCount,x=w*y,T=function(e){return Math.round(e)};parseFloat(u)!=parseFloat(T(u))&&(T=function(e){return parseFloat(e).toFixed(1)}),parseFloat(u)!=parseFloat(T(u))&&(T=function(e){return parseFloat(e).toFixed(2)});for(var $=[],C=0;C<=40*y;C++)$.push({x:C/(40*y),y:C/40});var b=d3.scale.linear().range([0,2*Math.PI]).domain([0,1]),F=d3.scale.linear().range([0,o]).domain([0,o]),k=d3.scale.linear().range([0,x]).domain([0,1]),M=d3.scale.linear().range([0,h]).domain([0,1]),A=d3.scale.linear().range([m+2*g+h,m-h]).domain([0,1]),O=d3.scale.linear().range([0,x-2*g]).domain([0,1]),P=d3.scale.linear().range([m+2*g,m+.7*f]).domain([0,1]),S=r.append("g").attr("transform","translate("+l+","+s+")"),I=d3.svg.arc().startAngle(b(0)).endAngle(b(1)).outerRadius(F(o)).innerRadius(F(o-p));S.append("path").attr("d",I).style("fill",a.circleColor).attr("transform","translate("+o+","+o+")");var R=S.append("text").text(T(d)+v).attr("class","liquidFillGaugeText").attr("text-anchor","middle").attr("font-size",f+"px").style("fill",a.textColor).attr("transform","translate("+o+","+P(a.textVertPosition)+")"),V=d3.svg.area().x(function(e){return k(e.x)}).y0(function(e){return M(Math.sin(2*Math.PI*a.waveOffset*-1+2*Math.PI*(1-a.waveCount)+2*e.y*Math.PI))}).y1(function(e){return 2*g+h}),L=S.append("defs").append("clipPath").attr("id","clipWave"+e),j=L.append("path").datum($).attr("d",V).attr("T",0),z=S.append("g").attr("clip-path","url(#clipWave"+e+")");z.append("circle").attr("cx",o).attr("cy",o).attr("r",g).style("fill",a.waveColor);var D=z.append("text").text(T(d)+v).attr("class","liquidFillGaugeText").attr("text-anchor","middle").attr("font-size",f+"px").style("fill",a.waveTextColor).attr("transform","translate("+o+","+P(a.textVertPosition)+")");if(a.valueCountUp){var G=function(){var e=d3.interpolate(this.textContent,u);return function(t){this.textContent=T(e(t))+v}};R.transition().duration(a.waveRiseTime).tween("text",G),D.transition().duration(a.waveRiseTime).tween("text",G)}var H=m+2*g-x;return a.waveRise?L.attr("transform","translate("+H+","+A(0)+")").transition().duration(a.waveRiseTime).attr("transform","translate("+H+","+A(c)+")").each("start",function(){j.attr("transform","translate(1,0)")}):L.attr("transform","translate("+H+","+A(c)+")"),a.waveAnimate&&n(),new function(){this.update=function(e){var t=parseFloat(e).toFixed(2),r=function(e){return Math.round(e)};parseFloat(t)!=parseFloat(r(t))&&(r=function(e){return parseFloat(e).toFixed(1)}),parseFloat(t)!=parseFloat(r(t))&&(r=function(e){return parseFloat(e).toFixed(2)});var o=function(){var t=d3.interpolate(this.textContent,parseFloat(e).toFixed(2));return function(e){this.textContent=r(t(e))+v}};R.transition().duration(a.waveRiseTime).tween("text",o),D.transition().duration(a.waveRiseTime).tween("text",o);var l,s=Math.max(a.minValue,Math.min(a.maxValue,e))/a.maxValue,c=g*i(100*s),f=d3.scale.linear().range([m+2*g+c,m-c]).domain([0,1])(s),u=d3.scale.linear().range([0,x]).domain([0,1]),d=d3.scale.linear().range([0,c]).domain([0,1]);l=a.waveHeightScaling?d3.svg.area().x(function(e){return u(e.x)}).y0(function(e){return d(Math.sin(2*Math.PI*a.waveOffset*-1+2*Math.PI*(1-a.waveCount)+2*e.y*Math.PI))}).y1(function(e){return 2*g+c}):V;var p=a.waveAnimate?O(1):0;j.transition().duration(0).transition().duration(a.waveAnimate?a.waveAnimateTime*(1-j.attr("T")):a.waveRiseTime).ease("linear").attr("d",l).attr("transform","translate("+p+",0)").attr("T","1").each("end",function(){a.waveAnimate&&(j.attr("transform","translate("+O(0)+",0)"),n(a.waveAnimateTime))}),L.transition().duration(a.waveRiseTime).attr("transform","translate("+H+","+f+")")}}}function init(){var e={zoom:10,center:new google.maps.LatLng(33.0198,-96.6989),disableDefaultUI:!0,scrollwheel:!1,draggable:!1,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]},t=document.getElementById("map");map=new google.maps.Map(t,e);var a={url:"images/icons8-Marker-26.png",scaledSize:new google.maps.Size(50,50)},n=new google.maps.LatLng(33.0198,-96.6989);new google.maps.Marker({icon:a,position:n,map:map})}$("svg").each(function(e,t){var a=liquidFillGaugeDefaultSettings();a.waveAnimate=!0,a.waveAnimateTime=1e3,a.waveHeight=.2,a.circleColor="#222";loadLiquidFillGauge($(t).attr("id"),$(t).data("percentage"),a)});var $=jQuery.noConflict();$(function(){function t(e,t){$.get("/ip/"+e,function(e){null!=e&&t(e)})}function a(e,t){$.get("/likes/"+e,function(e){null!=e&&t(e)})}function n(e){$.getJSON("/getlikes",function(t){e(t)})}function i(e){$.getJSON("/getVews",function(t){e(t)})}$("video").prop("muted",!0);var r="",o={},l=window.webkitRTCPeerConnection||window.mozRTCPeerConnection;l&&function(){function t(e){if(!(e in i)){i[e]=!0;Object.keys(i).filter(function(e){return i[e]})}}function a(e){e.split("\r\n").forEach(function(e){if(~e.indexOf("a=candidate")){var a=(n=e.split(" "))[4];"host"==n[7]&&t(a)}else if(~e.indexOf("c=")){var n=e.split(" ");t(a=n[2])}})}var n=new l({iceservers:[]});n.createDataChannel("",{reliable:!1}),n.onicecandidate=function(e){e.candidate&&a("a="+e.candidate.candidate)},n.createOffer(function(e){a(e.sdp),n.setLocalDescription(e)},function(t){console.warn("offer failed "+e)});var i=Object.create(null);i["0.0.0.0"]=!1}();var s=0,c="",f=0,u="",d=0,v=$("nav ul li:not(:last-child) a"),p=$("nav").height(),m=$("div#image, div#aboutMe, div#skill, div#contact, div#download"),g=$(document),h=$(window);$(".scroll-animate").on("click",function(){var e=$(this.hash);if(e)return $("html,body").animate({scrollTop:e.offset().top-60},2e3,"easeInOutExpo"),!1}),$.getJSON("https://api.ipify.org?format=json",function(e){r=e.ip}),h.on("scroll resize load",function(e){var t=h.scrollTop();h.width()<=768?0==t&&($("nav.fixed-navbar").css("background","rgba(0,2,0,0.9)"),$("nav.fixed-navbar").removeClass("effects"),$("#profile-img").show()):0==t?($("nav.fixed-navbar").css("background","none"),$("nav.fixed-navbar").removeClass("effects"),$("#profile-img").show()):$("nav.fixed-navbar").css("background","none"),h.width()>=768&&h.scrollTop()>50&&($("nav.fixed-navbar").css("background","rgba(0,2,0,0.9)"),$("nav.fixed-navbar").addClass("effects"),$("#profile-img").hide())}),g.on("scroll",function(){var e=g.scrollTop();m.each(function(){var t=$(this);if(t.offset().top<e+p&&e+p<t.offset().top+t.outerHeight()){var a="."+t.attr("id");v.removeClass("active"),$(a).addClass("active")}})}),$("#email-form").on("submit",function(e){alert("email sent successfully"),window.setTimeout(function(){window.location.assign("https://narentest.herokuapp.com")},100)}),$("#collapse-navbar").on("click",function(){$("nav.fixed-navbar").hasClass("effects")&&$("nav.fixed-navbar").removeClass("effects");var e=$("#navbar-custom");h.on("scroll",function(){$("nav.fixed-navbar").removeClass("effects")}),e.hasClass("responsive-navbar")?(e.removeClass("responsive-navbar"),h.on("scroll",function(){var e=h.scrollTop();h.width()>=768&&($("nav.fixed-navbar").hasClass("effects")?$("nav.fixed-navbar").removeClass("effects"):$("nav.fixed-navbar").addClass("effects")),0==e&&$("nav.fixed-navbar").removeClass("effects")})):e.addClass("responsive-navbar")}),$("footer .fa").hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","default")}),$('ul.left li a[href*="#"]:not([href="#"])').on("click",function(){if(location.pathname.replace("/^//","")==this.pathname.replace("/^//","")&&location.hostname==this.hostname){var e=$(this.hash);if(1==e.length)return $("html,body").animate({scrollTop:e.offset().top-60},2e3,"easeInOutExpo"),!1}}),$("footer .fa").on("click",function(){if(u==r){a(r,function(e){n(null==(s=e.like)?function(e){s=e,$("#value").text(s),$("footer .fa").css("color","red")}:function(e){s=e,alert("You have liked the page already.."),$("#value").text(s),$("footer .fa").css("color","red")})}),o.like=1;var e=JSON.stringify(o);$.ajax({type:"POST",url:"/save",data:e,contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(e){})}else confirm("We are unable to consider you like now. Try again later..!");$(window).on("load",function(){})}),h.on("load",function(){function e(e){o.ipaddress=e,o.views=1;var t=JSON.stringify(o);$.ajax({type:"POST",url:"/save",data:t,contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(e){console.log(e),views=e.views,s=e.like,console.log(s)})}t(r,function(t){(u=t)==r?e(c=r):alert("not equal")}),a(r,function(e){n(null==(f=e.like)?function(e){f=e,$("#value").text(f)}:function(e){f=e,$("#value").text(f),$("footer .fa").css("color","red")})}),i(function(e){d=e,0!=views&&$("#views").text(d)})}),google.maps.event.addDomListener(window,"load",init),google.maps.event.addDomListener(window,"resize",function(){map.setCenter(new google.maps.LatLng(33.0198,-96.6989))})});var map=null;